<mat-card>
  <mat-card-title>Signup</mat-card-title>
  <mat-card-content>
    <form [formGroup]="registerForm" (ngSubmit)="onSubmit(registerForm.value)">
      <p>
        <mat-form-field>
          <input id="userName" type="text" matInput placeholder="Username" formControlName="username"
            autocomplete="username" />
        </mat-form-field>
      </p>

      <p *ngIf="form.username.touched && form.username.errors?.required" class="error">
        Username is required.
      </p>

      <p *ngIf="
          form.username.touched && form.username.errors?.casePattern
        " class="error">
        {{form.username.errors?.casePattern.forbiddenNameAlert}}
      </p>

      <p>
        <mat-form-field>
          <input type="email" matInput placeholder="Email" formControlName="email" autocomplete="username" />
        </mat-form-field>
      </p>
      <p *ngIf="form.email.touched && form.email.errors?.required" class="error">
        Email is required.
      </p>
      <p *ngIf="form.email.touched && form.email.errors?.pattern" class="error">
        Supports only (.com, .net, .org, .co, .us) domains, only 5
        symbols after @ allowed, and no more than 3 dots before @.
      </p>

      <p>
        <mat-form-field>
          <input type="password" matInput placeholder="Password" formControlName="password"
            autocomplete="new-password" />
        </mat-form-field>
      </p>
      <div *ngIf="(registerForm.touched || registerForm.dirty) && registerForm.errors"
        class="cross-validation-error-message alert alert-danger">
        <p *ngIf="registerForm.errors?.passwordIsUnique" class="error">
          {{ registerForm.errors?.passwordIsUnique.passwordUniqnessAlert }}
        </p>
      </div>

      <p *ngIf="
          form.password.touched && form.password.errors?.cannotContainSpace
        " class="error">
        Password should not contain whitespaces.
      </p>

      <p *ngIf="form.password.touched && form.password.errors?.pattern" class="error">
        Password must include at least one uppercase and lowercase letter,
        special symbol, and be longer than 5 charachters.
      </p>

      <p *ngIf="form.password.touched && form.password.errors?.required" class="error">
        Password is required.
      </p>


      <div class="button">
        <button type="submit" mat-button [disabled]="!registerForm.valid">
          Signup
        </button>
        <button type="button" mat-button (click)="onClick()">Cancel</button>
      </div>
    </form>
  </mat-card-content>
</mat-card>